{
  default_namespace = "global"
  data_dir = ""

  cluster {
    heartbeat {
      interval = 1 // 1 second, for development and testing purposes
      maximum_silent_period = 20
    }
    client_pool {
      idle_timeout = 10 // minutes
    }
  }

  session_attributes {
    input_type = "bson"
    reply_type = "bson"
  }

  network {
    external {
      host = "localhost"
      port = 0
      netty {
        transport = "nio"
      }
    }

    internal {
      host = "localhost"
      port = 0
      netty {
        transport = "nio"
      }
    }
  }

  foundationdb {
    clusterfile = ""
    fdbc = "/usr/local/lib/libfdb_c.dylib"
    #fdbjava = <path to libfdb_java.jnilib>
    apiversion = 510
  }

  // common configuration variables for volume instances
  volume {
    replication {
      max_retries = 3
      retry_interval = 1 // seconds
      reset_threshold = 1 // seconds
    }
  }

  bucket {
    shards = 7
    volume {
      segment_size = 1048576
      segment_replication_chunk_size = 16777216 // 1 << 24
    }

    # The `index` block defines configuration options for secondary indexes.
    index {
      # strict_types enables strict type enforcement for secondary indexes.
      #
      # When enabled, index operations require an exact type match between
      # indexed values and query predicates. The system does not perform
      # implicit type coercion or value normalization.
      #
      # - Queries with mismatched predicate types do not use the index.
      # - Index build and maintenance skip values with incompatible types.
      # - Prevents mixed-type values under the same indexed field.
      # - Ensures deterministic behavior for statically typed clients.
      strict_types = false

      # The `maintenance` object defines configuration parameters for the background
      # index maintenance subsystem. This subsystem is responsible for managing and executing
      # index build and cleanup tasks in the background.
      maintenance {
        # strict_types enables strict type enforcement for the background index
        # maintenance subsystem.
        #
        # When enabled, the background index builder requires an exact type match
        # for all indexed values. If a value with an incompatible type is encountered
        # during index build or maintenance, the index builder is halted and the task
        # transitions to a failed state.
        #
        # In this mode, automatic recovery is not attempted. Manual intervention
        # is required to resolve the type inconsistency and resume index maintenance.
        strict_types = false

        # Number of worker threads in the pool.
        # If set to 0, the system will automatically use the number of available CPU cores.
        worker_pool_size = 0

        # Interval at which the maintenance scheduler runs periodic checks
        # such as cleaning up stale workers and dispatching pending tasks.
        # Default: 60 seconds
        worker_maintenance_interval = 60
      }
    }
  }

  redis {
    shards = 7
    volume {
      segment_size = 1048576
      segment_replication_chunk_size = 16777216 // 1 << 24
    }
    volume_syncer {
      prefix = "redis-volume-syncer"
      workers = 8
      period = 100
    }
  }

  background_tasks {
    journal_cleanup_task {
      retention_period: 1
      timeunit: days
    }
  }

  // Configuration for some integration tests
  __test__ {
    bucket_metadata_convergence {
      skip_wait_transaction_limit: true
    }
  }
}